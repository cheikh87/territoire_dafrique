<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/>
  <meta name="description" content=""/>
  <meta name="author" content=""/>
  <title>Suivi des activités CSE</title>
  
  
  <style>
/*
P.S: if you like my content maybe you will become a donator and donate some money? That helps me to create new awesome materials. https://www.paypal.me/melnik909
*/

.timeline{
  --uiTimelineMainColor: var(--timelineMainColor, #222);
  --uiTimelineSecondaryColor: var(--timelineSecondaryColor, #fff);

  position: relative;
  padding-top: 3rem;
  padding-bottom: 3rem;
}

.timeline:before{
  content: "";
  width: 4px;
  height: 100%;
  background-color: var(--uiTimelineMainColor);

  position: absolute;
  top: 0;
}

.timeline__group{
  position: relative;
}

.timeline__group:not(:first-of-type){
  margin-top: 4rem;
}

.timeline__year{
  padding: .5rem 1.5rem;
  color: var(--uiTimelineSecondaryColor);
  background-color: var(--uiTimelineMainColor);

  position: absolute;
  left: 0;
  top: 0;
}

.timeline__box{
  position: relative;
}

.timeline__box:not(:last-of-type){
  margin-bottom: 30px;
}

.timeline__box:before{
  content: "";
  width: 100%;
  height: 2px;
  background-color: var(--uiTimelineMainColor);

  position: absolute;
  left: 0;
  z-index: -1;
}

.timeline__date{
  min-width: 65px;
  position: absolute;
  left: 0;

  box-sizing: border-box;
  padding: .5rem 1.5rem;
  text-align: center;

  background-color: var(--uiTimelineMainColor);
  color: var(--uiTimelineSecondaryColor);
}

.timeline__day{
  font-size: 2rem;
  font-weight: 700;
  display: block;
}

.timeline__month{
  display: block;
  font-size: .8em;
  text-transform: uppercase;
}

.timeline__post{
  padding: 1.5rem 2rem;
  border-radius: 2px;
  border-left: 3px solid var(--uiTimelineMainColor);
  box-shadow: 0 1px 3px 0 rgba(0, 0, 0, .12), 0 1px 2px 0 rgba(0, 0, 0, .24);
  background-color: var(--uiTimelineSecondaryColor);
}

@media screen and (min-width: 641px){

  .timeline:before{
    left: 30px;
  }

  .timeline__group{
    padding-top: 55px;
  }

  .timeline__box{
    padding-left: 80px;
  }

  .timeline__box:before{
    top: 50%;
    transform: translateY(-50%);  
  }  

  .timeline__date{
    top: 50%;
    margin-top: -27px;
  }
}

@media screen and (max-width: 640px){

  .timeline:before{
    left: 0;
  }

  .timeline__group{
    padding-top: 40px;
  }

  .timeline__box{
    padding-left: 20px;
    padding-top: 70px;
  }

  .timeline__box:before{
    top: 90px;
  }    

  .timeline__date{
    top: 0;
  }
}

.timeline{
  --timelineMainColor: #4557bb;
  font-size: 16px;
}

/*
@media screen and (min-width: 768px){

  html{
    font-size: 62.5%;
  }
}

@media screen and (max-width: 767px){

  html{
    font-size: 55%;
  }
}

*/

/*
* demo page
*/

body{
  font-family: -apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Open Sans, Ubuntu, Fira Sans, Helvetica Neue, sans-serif;
  font-size: 1.6rem;
  color: #222;

  background-color: #f0f0f0;
  margin: 0;
  -webkit-overflow-scrolling: touch;   
  overflow-y: scroll;
}

p{
  margin-top: 0;
  margin-bottom: 1.5rem;
  line-height: 1.5;
}

p:last-child{
  margin-bottom: 0;
}

.page{
 
  display: flex;
  flex-direction: column;
  justify-content: space-around;
}

.page__demo{
  flex-grow: 1;
}

.main-container{
  max-width: 960px;
  padding-left: 2rem;
  padding-right: 2rem;

  margin-left: auto;
  margin-right: auto;
}

.page__container{
  padding-top: 30px;
  padding-bottom: 30px;
  max-width: 800px;
}

.footer{
  padding-top: 1rem;
  padding-bottom: 1rem;
  text-align: center;  
  font-size: 1.4rem;
}

.footer__link{
  text-decoration: none;
  color: inherit;
}

@media screen and (min-width: 361px){

  .footer__container{
    display: flex;
    justify-content: space-between;
  }
}

@media screen and (max-width: 360px){

  .melnik909{
    display: none;
  } 
}
</style>
  
  
  <!--favicon-->
  <link rel="icon" href="assets/images/favicon.ico" type="image/x-icon">
  <!-- notifications css -->
  <link rel="stylesheet" href="assets/plugins/notifications/css/lobibox.min.css"/>
  <!-- Vector CSS -->
  <link href="assets/plugins/vectormap/jquery-jvectormap-2.0.2.css" rel="stylesheet"/>
  <!-- simplebar CSS-->
  <link href="assets/plugins/simplebar/css/simplebar.css" rel="stylesheet"/>
  <!-- Bootstrap core CSS-->
  <link href="assets/css/bootstrap.min.css" rel="stylesheet"/>
  <!-- animate CSS-->
  <link href="assets/css/animate.css" rel="stylesheet" type="text/css"/>
  <!-- Icons CSS-->
  <link href="assets/css/icons.css" rel="stylesheet" type="text/css"/>
  <!-- Sidebar CSS-->
  <link href="assets/css/sidebar-menu.css" rel="stylesheet"/>
  <!-- Custom Style-->
  <link href="assets/css/app-style.css" rel="stylesheet"/>
   <!-- Icons CSS-->
  <link href="assets/css/icons.css" rel="stylesheet" type="text/css"/>
  
  
  
  <!-- notifications css -->
  <link rel="stylesheet" href="assets/plugins/notifications/css/lobibox.min.css"/>
  
   <!--Data Tables -->
  <link href="assets/plugins/bootstrap-datatable/css/dataTables.bootstrap4.min.css" rel="stylesheet" type="text/css">
  <link href="assets/plugins/bootstrap-datatable/css/buttons.bootstrap4.min.css" rel="stylesheet" type="text/css">
 
        <link rel="stylesheet" href="assets/plugins/fastselect.min.css">
        <script src="assets/plugins/fastselect.standalone.js"></script>

        <style>

            .fstElement { font-size: 1.2em; }
            .fstToggleBtn { min-width: 16.5em; }

            .submitBtn { display: none; }

            .fstMultipleMode { display: block; }
            .fstMultipleMode .fstControls { width: 100%; }
			
			.button_presentation
			{
			
			border:1px solid #DCDCDC;
			padding-bottom:4px
			}
			
			.button_presentation:hover
			{
			background:white;
			
			
			}
			
			table#table_activites.dataTable tbody tr:hover {
            background-color: #ffa;
			cursor:pointer
}


	table#table_projets.dataTable tbody tr:hover {
            background-color: #ffa;
			cursor:pointer
}

table#table_activites.dataTable tbody tr:after{
    content: "my tooltip";
    padding: 2px;
    display:none;
    position: relative;
    top: -20px;
    right: -30px;
    width: 150px;
    text-align: center;
    background-color: #fef4c5;
    border: 1px solid #d4b943;
    -moz-border-radius: 2px;
    -webkit-border-radius: 2px;
    -ms-border-radius: 2px;
    border-radius: 2px;
}

table#table_projets.dataTable tbody tr:after{
    content: "my tooltip";
    padding: 2px;
    display:none;
    position: relative;
    top: -20px;
    right: -30px;
    width: 150px;
    text-align: center;
    background-color: #fef4c5;
    border: 1px solid #d4b943;
    -moz-border-radius: 2px;
    -webkit-border-radius: 2px;
    -ms-border-radius: 2px;
    border-radius: 2px;
}

        </style>
		
		
		

</head>

<body>

<!-- Start wrapper-->
 <div id="wrapper">

  <!--Start sidebar-wrapper-->
   <div id="sidebar-wrapper" data-simplebar="" data-simplebar-auto-hide="true">
     <div class="brand-logo">
      <a href="index.html">
       <img src="assets/images/logo-icon.png" class="logo-icon" alt="logo icon">
       <h5 class="logo-text"> Suivi des activités</h5>
     </a>
	 </div>
	 <div class="user-details">
	  <div class="media align-items-center user-pointer collapsed" data-toggle="collapse" data-target="#user-dropdown">
	    <div class="avatar"><img class="mr-3 side-user-img" src="https://via.placeholder.com/110x110" alt="user avatar"></div>
	     <div class="media-body">
	     <h6 class="side-user-name name_of_user">Cheikh THIOUB</h6>
	    </div>
       </div>
	   <div id="user-dropdown" class="collapse">
		  <ul class="user-setting-menu">
            <li><a href="javaScript:void();"><i class="icon-user"></i>  My Profile</a></li>
            <li><a href="javaScript:void();"><i class="icon-settings"></i> Setting</a></li>
			 <li class="dropdown-item" id="deconnexion_"><i class="icon-power mr-2"></i> Déconnexion</li>
		  </ul>
	   </div>
      </div>
	 <ul class="sidebar-menu do-nicescrol">
      <li class="sidebar-header"><a href="">Accueil</a></li>
      <li>
        <a href="index.html" class="waves-effect">
          <i class="icon-folder"></i><span>Projets</span><i class="fa fa-angle-left pull-right"></i>
        </a>
        <ul class="sidebar-submenu">
         
		  <li><a onclick="mod_all_projet()"><i class="fa fa-long-arrow-right"></i> Liste des projets</a></li>
		  
		  
        </ul>
      </li>
	  
	  

	  
	   <li>
        <a href="index.html" class="waves-effect">
          <i class="icon-chart"></i><span>Activités</span><i class="fa fa-angle-left pull-right"></i>
        </a>
        <ul class="sidebar-submenu">
          
          <li><a onclick="mod_all_activity()" style="cursor:pointer"><i class="fa fa-long-arrow-right"></i> Liste des activités</a></li>
		  
        </ul>
      </li>
	  
	  
	   <li>
        <a href="index.html" class="waves-effect">
          <i class="icon-chart"></i><span>Utilisateurs</span><i class="fa fa-angle-left pull-right"></i>
        </a>
        <ul class="sidebar-submenu">
          
          <li><a onclick="mod_all_activity()" style="cursor:pointer"><i class="fa fa-long-arrow-right"></i> Liste des utilisateurs</a></li>
		
        </ul>
      </li>
	  

	   <li>
        <a href="calendar.html" class="waves-effect">
          <i class="icon-calendar"></i><span>Agendas</span>
          <small class="badge float-right badge-info">En cours</small>
        </a>
      </li>
	  
    </ul>

   </div>
   <!--End sidebar-wrapper-->

<!--Start topbar header-->
<header class="topbar-nav">
 <nav class="navbar navbar-expand fixed-top bg-danger">
  <ul class="navbar-nav mr-auto align-items-center">
    <li class="nav-item">
      <a class="nav-link toggle-menu" href="javascript:void();">
       <i class="icon-menu menu-icon"></i>
     </a>
    </li>
   
  </ul>

  <ul class="navbar-nav align-items-center right-nav-link">
    <li class="nav-item dropdown-lg">
      <a class="nav-link dropdown-toggle dropdown-toggle-nocaret waves-effect" data-toggle="dropdown" href="javascript:void();">
	    <i class="icon-envelope-open"></i></a>
      <div class="dropdown-menu dropdown-menu-right animated fadeIn">
        <ul class="list-group list-group-flush">
         <li class="list-group-item d-flex justify-content-between align-items-center">
          You have 4 new messages
          <span class="badge badge-danger">4</span>
          </li>
          <li class="list-group-item">
          <a href="javaScript:void();">
           <div class="media">
             <div class="avatar"><img class="align-self-start mr-3" src="https://via.placeholder.com/110x110" alt="user avatar"></div>
            <div class="media-body">
            <h6 class="mt-0 msg-title">Jhon Deo</h6>
            <p class="msg-info">Lorem ipsum dolor sit amet...</p>
            <small>Today, 4:10 PM</small>
            </div>
          </div>
          </a>
          </li>
          <li class="list-group-item">
          <a href="javaScript:void();">
           <div class="media">
             <div class="avatar"><img class="align-self-start mr-3" src="https://via.placeholder.com/110x110" alt="user avatar"></div>
            <div class="media-body">
            <h6 class="mt-0 msg-title">Sara Jen</h6>
            <p class="msg-info">Lorem ipsum dolor sit amet...</p>
            <small>Yesterday, 8:30 AM</small>
            </div>
          </div>
          </a>
          </li>
          <li class="list-group-item">
          <a href="javaScript:void();">
           <div class="media">
             <div class="avatar"><img class="align-self-start mr-3" src="https://via.placeholder.com/110x110" alt="user avatar"></div>
            <div class="media-body">
            <h6 class="mt-0 msg-title">Dannish Josh</h6>
            <p class="msg-info">Lorem ipsum dolor sit amet...</p>
             <small>5/11/2018, 2:50 PM</small>
            </div>
          </div>
          </a>
          </li>
          <li class="list-group-item">
          <a href="javaScript:void();">
           <div class="media">
             <div class="avatar"><img class="align-self-start mr-3" src="https://via.placeholder.com/110x110" alt="user avatar"></div>
            <div class="media-body">
            <h6 class="mt-0 msg-title">Katrina Mccoy</h6>
            <p class="msg-info">Lorem ipsum dolor sit amet.</p>
            <small>1/11/2018, 2:50 PM</small>
            </div>
          </div>
          </a>
          </li>
          <li class="list-group-item"><a href="javaScript:void();">See All Messages</a></li>
        </ul>
        </div>
    </li>
    <li class="nav-item dropdown-lg">
      <a class="nav-link dropdown-toggle dropdown-toggle-nocaret waves-effect" data-toggle="dropdown" href="javascript:void();">
	  <i class="icon-bell"></i><span class="badge badge-primary badge-up">10</span></a>
      <div class="dropdown-menu dropdown-menu-right animated fadeIn">
        <ul class="list-group list-group-flush">
          <li class="list-group-item d-flex justify-content-between align-items-center">
          You have 10 Notifications
          <span class="badge badge-primary">10</span>
          </li>
          <li class="list-group-item">
          <a href="javaScript:void();">
           <div class="media">
             <i class="icon-people fa-2x mr-3 text-info"></i>
            <div class="media-body">
            <h6 class="mt-0 msg-title">New Registered Users</h6>
            <p class="msg-info">Lorem ipsum dolor sit amet...</p>
            </div>
          </div>
          </a>
          </li>
          <li class="list-group-item">
          <a href="javaScript:void();">
           <div class="media">
             <i class="icon-cup fa-2x mr-3 text-warning"></i>
            <div class="media-body">
            <h6 class="mt-0 msg-title">New Received Orders</h6>
            <p class="msg-info">Lorem ipsum dolor sit amet...</p>
            </div>
          </div>
          </a>
          </li>
          <li class="list-group-item">
          <a href="javaScript:void();">
           <div class="media">
             <i class="icon-bell fa-2x mr-3 text-danger"></i>
            <div class="media-body">
            <h6 class="mt-0 msg-title">New Updates</h6>
            <p class="msg-info">Lorem ipsum dolor sit amet...</p>
            </div>
          </div>
          </a>
          </li>
          <li class="list-group-item"><a href="javaScript:void();">See All Notifications</a></li>
        </ul>
      </div>
    </li>
    <li class="nav-item language">
      <a class="nav-link dropdown-toggle dropdown-toggle-nocaret waves-effect" data-toggle="dropdown" href="#"><i class="flag-icon flag-icon-gb"></i></a>
      <ul class="dropdown-menu dropdown-menu-right animated fadeIn">
          <li class="dropdown-item"> <i class="flag-icon flag-icon-gb mr-2"></i> English</li>
          <li class="dropdown-item"> <i class="flag-icon flag-icon-fr mr-2"></i> French</li>
          <li class="dropdown-item"> <i class="flag-icon flag-icon-cn mr-2"></i> Chinese</li>
          <li class="dropdown-item"> <i class="flag-icon flag-icon-de mr-2"></i> German</li>
        </ul>
    </li>
    <li class="nav-item">
      <a class="nav-link dropdown-toggle dropdown-toggle-nocaret" data-toggle="dropdown" href="#">
        <span class="user-profile"><img src="https://via.placeholder.com/110x110" class="img-circle" alt="user avatar"></span>
      </a>
      <ul class="dropdown-menu dropdown-menu-right animated fadeIn">
       <li class="dropdown-item user-details">
        <a href="javaScript:void();">
           <div class="media">
             <div class="avatar"><img class="align-self-start mr-3" src="https://via.placeholder.com/110x110" alt="user avatar"></div>
            <div class="media-body">
            <h6 class="mt-2 user-title name_of_user">Katrina Mccoy</h6>
            <p class="user-subtitle statut_of_user">katrina92@example.com</p>
            </div>
           </div>
          </a>
        </li>
        <li class="dropdown-divider"></li>
        <li class="dropdown-item"><i class="icon-envelope mr-2"></i> Inbox</li>
        <li class="dropdown-divider"></li>
        <li class="dropdown-item"><i class="icon-wallet mr-2"></i> Account</li>
        <li class="dropdown-divider"></li>
        <li class="dropdown-item"><i class="icon-settings mr-2"></i> Setting</li>
        <li class="dropdown-divider"></li>
        <li id="deconnexion" class="dropdown-item"><i class="icon-power mr-2"></i> Se deconnecter</li>
      </ul>
    </li>
  </ul>
</nav>
</header>
<!--End topbar header-->

<div class="clearfix"></div>

  <div class="content-wrapper">
    <div class="container-fluid">

      <!--Start Dashboard Content-->

      
	  
	  
	
      

	  
     
<div class="row">
        <div class="col-lg-6">
          <div class="card">
            <div class="card-header text-uppercase">Taux d'activité des projets</div>
           <div class="card-body">
                 <canvas id="lineChart"></canvas>
             </div>
          </div>
        </div>
        <div class="col-lg-6">
          <div class="card">
            <div class="card-header text-uppercase">Niveau de réalisation des activités par agent</div>
            <div class="card-body">
              <canvas id="barChart"></canvas>
            </div>
          </div>
        </div>
      </div><!--End Row-->
	  
	  
	  
	  
	  
	  
	  
	   <!-- Breadcrumb-->
     
    <!-- End Breadcrumb-->
      <div class="row">
        <div class="col-lg-12">
		      <div class="card">
           <div class="card-body">

        <div class="row">
        
            <!-- Left sidebar -->
            <div class="col-lg-3 col-md-4">
                <div class="card mt-3 shadow-none">
                        <div class="list-group shadow-none">
                          <a href="javascript:void();" class="list-group-item active">Liste des agents</a>
						  <span id="recente_activity">
						  
						  
                          </span>
						
                        </div>
                </div>

                
            </div>
            <!-- End Left sidebar -->
                    
        <!-- Right Sidebar -->
        <div class="col-lg-9 col-md-8">
            <div class="row">
                <div class="col-lg-8">
                    
                </div>

            

            </div> <!-- End row -->
            
            <div class="card mt-3 shadow-none border border-light">
                <div class="card-body">
                    <div class="table-responsive">
                        <div class="card" id="liste_all_activity">
            <div class="card-header"><i class="fa fa-table"></i> Liste de toutes les activités </div>
            <div class="card-body">
              <div class="table-responsive">
              <table id="table_activites" class="table table-bordered responsive nowrap" width="100%">
                <thead>
                    <tr>
                        <th>Activité</th>
                        <th>Projet</th>
                        <th>Derniere modif</th>
                        
                    </tr>
                </thead>
                <tbody>
                 
                </tbody>
                <tfoot>
                    <tr>
                         <th>Activité</th>
                        <th>Projet</th>
                        <th>Derniere modif</th>
                    </tr>
                </tfoot>
            </table>
            </div>
            </div>
          </div>
		  
		  
		  
		  
		  <div class="card" id="liste_all_project">
            <div class="card-header"><i class="fa fa-table"></i> Liste de tous les projets </div>
            <div class="card-body">
              <div class="table-responsive">
              <table id="table_projets" class="table table-bordered responsive nowrap" width="100%">
                <thead>
                    <tr>
                        <th>Projet</th>
                        <th>Coordonnateur</th>
                        <th>Derniere modif</th>
                        
                    </tr>
                </thead>
                <tbody>
                 
                </tbody>
                <tfoot>
                    <tr>
                         <th>Projet</th>
                        <th>Coordonnateur</th>
                        <th>Derniere modif</th>
                    </tr>
                </tfoot>
            </table>
            </div>
            </div>
          </div>
                    </div>
                    
                   
					
			<div class="card" id="time-line-activity">
            <div class="card-header"><i class="fa fa-clock"></i> Liste des taches   <span class="title_activity"></span> <span class="btn-toolbar" role="toolbar" id="toolbar_activity">  
                       
                    </span> <button onclick="mod_all_activity()" title="Afficher la liste de toutes les activittés" style="float:right" onclick=""><i class="fa fa-table"></i></button> </div>  
            <div class="card-body">
              <div class="table-responsive">
             <section class="cd-horizontal-timeline">
			
			 
          <div class="page">
  <div class="page__demo">
    <div class="main-container page__container">
      <div class="timeline">
        <div class="timeline__group">
          <span class="timeline__year">2019</span>
          <div class="timeline__box"  id="events-content">
            <div class="timeline__date">
              <span class="timeline__day">2</span>
              <span class="timeline__month">Feb</span>
            </div>
            <div class="timeline__post">
              <div class="timeline__content">
                <p>Attends the Philadelphia Museum School of Industrial Art. Studies design with Alexey Brodovitch, art director at Harper's Bazaar, and works as his assistant.</p>
              </div>
            </div>
          </div>
           
        </div>
		
		
       
      </div>
    </div>
  </div>
</div>


 <table id="table_details_activite" class="table table-bordered responsive nowrap" width="100%">
			   <caption> Temps passé sur l'activité<b> <span class='title_activity'></span></b>  </caption>
                <thead>
                    <tr>
                        <th>Date</th>
                        <th>Pourcentage</th>
						<th>Temps passé (h)</th>
                        <th>Commentaire</th>
						<th>utilisateur</th>
                       
                        
                    </tr>
                </thead>
                <tbody>
                 
                </tbody>
               
            </table>
            
          </section>
            </div>
            </div>
          </div>
                    
                  
                </div> <!-- card body -->
            </div> <!-- card -->
        </div> <!-- end Col-9 -->
                    
                    </div><!-- End row -->
					
					
					
					
					
					
					
					
					

             </div>
                    </div>
        </div>
      </div><!-- End row -->
	  
	  

    </div>
    <!-- End container-fluid-->

    </div><!--End content-wrapper-->
   <!--Start Back To Top Button-->
    <a href="javaScript:void();" class="back-to-top"><i class="fa fa-angle-double-up"></i> </a>
    <!--End Back To Top Button-->

	<!--Start footer-->
	<footer class="footer">
      <div class="container">
        <div class="text-center">
          Copyright © 2018 DashRock Admin
        </div>
      </div>
    </footer>
	<!--End footer-->

  </div><!--End wrapper-->

  <!-- Bootstrap core JavaScript-->
  <script src="assets/js/jquery.min.js"></script>
  <script src="assets/js/popper.min.js"></script>
  <script src="assets/js/bootstrap.min.js"></script>
  
  
  <!--Data Tables js-->
  <script src="assets/plugins/bootstrap-datatable/js/jquery.dataTables.min.js"></script>
  <script src="assets/plugins/bootstrap-datatable/js/dataTables.bootstrap4.min.js"></script>
  <script src="assets/plugins/bootstrap-datatable/js/dataTables.buttons.min.js"></script>
  <script src="assets/plugins/bootstrap-datatable/js/buttons.bootstrap4.min.js"></script>
  <script src="assets/plugins/bootstrap-datatable/js/jszip.min.js"></script>
  <script src="assets/plugins/bootstrap-datatable/js/pdfmake.min.js"></script>
  <script src="assets/plugins/bootstrap-datatable/js/vfs_fonts.js"></script>
  <script src="assets/plugins/bootstrap-datatable/js/buttons.html5.min.js"></script>
  <script src="assets/plugins/bootstrap-datatable/js/buttons.print.min.js"></script>
  <script src="assets/plugins/bootstrap-datatable/js/buttons.colVis.min.js"></script>

  <!-- simplebar js -->
  <script src="assets/plugins/simplebar/js/simplebar.js"></script>
  <!-- waves effect js -->
  <script src="assets/js/waves.js"></script>
  <!-- sidebar-menu js -->
  <script src="assets/js/sidebar-menu.js"></script>
  <!-- Custom scripts -->
  <script src="assets/js/app-script.js"></script>

  
  
  <!-- Vector map JavaScript -->
  <script src="assets/plugins/vectormap/jquery-jvectormap-2.0.2.min.js"></script>
  <script src="assets/plugins/vectormap/jquery-jvectormap-world-mill-en.js"></script>
  <!-- Sparkline JS -->
  <script src="assets/plugins/sparkline-charts/jquery.sparkline.min.js"></script>
  <!-- Chart js -->
  <script src="assets/plugins/Chart.js/Chart.min.js"></script>
  <!--notification js -->
  <script src="assets/plugins/notifications/js/lobibox.min.js"></script>
  <script src="assets/plugins/notifications/js/notifications.min.js"></script>
  
  <!-- cookies -->
    <script src="assets/plugins/js-cookie/src/js.cookie.js"></script>
    <script src="assets/plugins/jwt-decode/build/jwt-decode.js"></script>
  
  <!-- Chart JS -->
  <script src="assets/plugins/Chart.js/Chart.min.js"></script>
  
  
	

  
   

</body>
</html>




<!-- Mdoals -->


<!-- Modals ajout activités --><div class="modal fade" id="modal-activitry">
                  <div class="modal-dialog">
                    <div class="modal-content animated rollIn">
                      <div class="modal-header">
                        <h5 class="modal-title"><i class="fa fa-star"></i> Ajouter une activité</h5>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                          <span aria-hidden="true">&times;</span>
                        </button>
                      </div>
                      <div class="modal-body">
                        <p>
						
		 <form id="form_activity">
						
						 <div class="form-group">
						   <div class="position-relative has-icon-left">
							  <label for="exampleInputPassword" class="sr-only">Nom de l'activité</label>
							  <input type="text" id="intitule" name="intitule" class="form-control" placeholder="Nom de l'activité">
							  <div class="form-control-position">
								  <i class="icon-folder"></i>
							  </div>
						   </div>
						  </div>
						  
						  
				 <div class="form-group">
						 <div class="position-relative has-icon-left">
							  <label for="exampleInputEmailId" class="sr-only">Projet concerné</label>
							  <select name="projet"  id="projet" class="form-control" placeholder="Projet concerné">				  
							  <option value=''>Projet concerné</option>
							  <option value='1'>Informatique</option>
							  <option value='2'>Géomatique</option>
							  <option value='3'>Climat</option>
							   </select>
							  <div class="form-control-position">
								  <i class="icon-folder"></i>
							  </div>
						</div>
				  </div>
				  
				  
				   <div class="form-group">
						 <div class="position-relative has-icon-left">
							  <label for="exampleInputEmailId" class="sr-only">Type d'activité</label>
							  <select name="type_activites"  id="type_activites" class="form-control" placeholder="Type d'activité">				  
							  <option value=''>Type d'activité</option>
							  <option value='1'>Normal</option>
							  <option value='2'>Congé</option>
							  <option value='3'>Mission</option>
							  <option value='4'>Autres</option>
							   </select>
							  <div class="form-control-position">
								  <i class="icon-folder"></i>
							  </div>
						</div>
				  </div>
				  
				<div class="form-group">
						 <div class="position-relative has-icon-left">
						  <label for="date_debut_prevue" class="">Date de début prévue</label>
						  <input type="date" id="date_debut_prevue" name="date_debut_prevue" class="form-control" placeholder="Mot de passe">
						  <div class="form-control-position">
							
						  </div>
					   </div>
				</div>
						  
				<div class="form-group">
						 <div class="position-relative has-icon-left">
						  <label for="date_fin_prevue" class="">Date de fin prévue</label>
						  <input type="date" id="date_fin_prevue" name="date_fin_prevue" class="form-control" placeholder="Mot de passe">
						  <div class="form-control-position">
							
						  </div>
					   </div>
				</div>
					
		</form>					
						  
						</p>
                      </div>
                      <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-dismiss="modal"><i class="fa fa-times"></i> Fermer</button>
                        <button type="button" class="btn btn-primary add_activity"><i class="fa fa-check-square-o"></i> Ajouter</button>
                      </div>
                    </div>
                  </div>
                </div>
				
				
				
				
	<!-- Modals projets --><div class="modal fade" id="modal-projet">
                  <div class="modal-dialog">
                    <div class="modal-content animated jackInTheBox">
                      <div class="modal-header">
                        <h5 class="modal-title"><i class="fa fa-star"></i> Ajouter un projet</h5>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                          <span aria-hidden="true">&times;</span>
                        </button>
                      </div>
                      <div class="modal-body">
                        <p>
						
		 <form id="form_projet">
						
						 <div class="form-group">
						   <div class="position-relative has-icon-left">
							  <label for="exampleInputPassword" class="sr-only">Nom du projet</label>
							  <input type="text" id="intitule" name="intitule" class="form-control" placeholder="Nom du projet">
							  <div class="form-control-position">
								  <i class="icon-folder"></i>
							  </div>
						   </div>
						  </div>
						  
						  
				 <div class="form-group">
						 <div class="position-relative has-icon-left">
							  <label for="exampleInputEmailId" class="sr-only">Coordonnateur projet</label>
							  <select name="coordonnateur"  id="coordonnateur" class="form-control multipleSelect"  placeholder="Coordonnateur du projet">				  
							  <option value=''>Coordonnateur du projet</option>
							  <option value='1'>Alioune</option>
							  <option value='2'>Abdoulaye</option>
							  <option value='3'>Cheikh</option>
							   </select>
							  <div class="form-control-position">
								  <i class="icon-folder"></i>
							  </div>
						</div>
				  </div>
				  
				  
				  
				  
				<div class="form-group">
						 <div class="position-relative has-icon-left">
						  <label for="date_debut" class="">Date de début prévue</label>
						  <input type="date" id="date_debut" name="date_debut" class="form-control" placeholder="Date de début">
						  <div class="form-control-position">
							  
						  </div>
					   </div>
				</div>
						  
				<div class="form-group">
						 <div class="position-relative has-icon-left">
						  <label for="date_fin" class="">Date de fin prévue</label>
						  <input type="date" id="date_fin" name="date_fin" class="form-control" placeholder="Date de fin">
						  <div class="form-control-position">
							 
						  </div>
					   </div>
				</div>
				
				<div class="form-group">
						 <div class="position-relative has-icon-left">
						  <label for="pourcentage_realise" class="sr-only">Niveau de réalisation</label>
						  <input type="number" id="pourcentage_realise" name="pourcentage_realise" class="form-control" placeholder="Niveau de réalisation">
						  <div class="form-control-position">
							  <i class="icon-clock"></i>
						  </div>
					   </div>
				</div>
					
		</form>					
						  
						</p>
                      </div>
                      <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-dismiss="modal"><i class="fa fa-times"></i> Fermer</button>
                        <button type="button" class="btn btn-primary add_projet"><i class="fa fa-check-square-o"></i> Ajouter</button>
                      </div>
                    </div>
                  </div>
                </div>		




<div class="modal fade" id="add_time">
                  <div class="modal-dialog">
                    <div class="modal-content gradient-royal border-0">
                      <div class="modal-header">
                        <h5 class="modal-title text-white"><i class="fa fa-star"></i> Ajout de temps à l'activité <span class="title_activity"></span> </h5>
                        <button type="button" class="close text-white" data-dismiss="modal" aria-label="Close">
                          <span aria-hidden="true">&times;</span>
                        </button>
                      </div>
                      <div class="">
                       <div class="card">
			    
				<div class="card">
			     <div class="card-body">
				   <div class="card-title">Veuillez remplir les champs</div>
				   <hr>
				    <form id="form_saisir_temps">
					 <div class="form-group">
					  <label for="input-13">Saisir le temps (en heure)</label>
					  <input type="text" class="form-control form-control-square" id="temps" name="temps" placeholder="Saisir le temps">
					 </div>
					 <div class="form-group">
					  <label for="input-14">Pourcentage réalisé de l'activité (%)</label>
					  <input type="text" class="form-control form-control-square" id="pourcentage" name="pourcentage" placeholder="Saisir un nombre">
					 </div>
					 <div class="form-group">
					  <label for="input-15">Commentaire</label>
					  <textarea  class="form-control form-control-square" id="commentaires" name="commentaires" placeholder="Ajouter une description détaillée"> </textarea>
					 </div>
					 
					
					</form>
					 <div class="form-group">
					  <button id="submit_form_saisir_temps" class="btn btn-primary shadow-primary btn-square px-5"><i class="icon-lock"></i> Ajouter</button>
					</div>
				 </div>
			   </div>
				
						</div>
                      </div>
                      <div class="modal-footer">
                        <button type="button" class="btn btn-light" data-dismiss="modal"><i class="fa fa-times"></i> Close</button>
                       
                      </div>
                    </div>
                  </div>
                </div><!--End Modal -->		



<div class="modal fade" id="update_project_modal">
                  <div class="modal-dialog">
                    <div class="modal-content border-info">
                      <div class="modal-header bg-info">
                        <h5 class="modal-title text-white"><i class="fa fa-star"></i> Mise à jour informations projet <span class="title_projet"></span></h5>
                        <button type="button" class="close text-white" data-dismiss="modal" aria-label="Close">
                          <span aria-hidden="true">&times;</span>
                        </button>
                      </div>
                      <div class="modal-body">
                        <p>Liste des intervenants au projets</p>
						 <p>Activités liées au projet</p>
                      </div>
                      <div class="modal-footer">
                        <button type="button" class="btn btn-inverse-info" data-dismiss="modal"><i class="fa fa-times"></i> Fermer</button>
                        <button type="button" class="btn btn-info"><i class="fa fa-check-square-o"></i> Sauvegarder les modifications</button>
                      </div>
                    </div>
                  </div>
                </div><!--End Modal -->			




<div class="modal fade" id="mod_real_activite">
                  <div class="modal-dialog">
                    <div class="modal-content gradient-royal border-0">
                      <div class="modal-header">
                        <h5 class="modal-title text-white"><i class="fa fa-star"></i> Niveau de réalisation de  l'activité </h5>
                        <button type="button" class="close text-white" data-dismiss="modal" aria-label="Close">
                          <span aria-hidden="true">&times;</span>
                        </button>
                      </div>
                      <div class="">
                       <div class="card">
			    
				<div class="card">
			     <div class="card-body">
				   <div class="card-title"> <span class="title_activity"></span>  </div>
				   <hr>
				    <form id="form_mod_real_act">
					 <div class="form-group">
					  <label for="input-13">Modifier</label>
					  <input type="number" class="form-control form-control-square" id="pourcentage_realisation_mod" name="pourcentage_realisation" placeholder="Modifier le niveau de réalisation de l'activité">
					 </div>
					 <p>Niveau de réalisation actuelle de l'activité</p>
                    <div class="progress" id="progress-bar-val">
                    <div class="progress-bar" style="width:70%">70%</div>
                    </div>
					
					 <input type="hidden" id="id_activite_modif" name="id">
					
					</form>	<br><br>
					 <div class="form-group">
					  <button id="submit_form_mod_real_act" class="btn btn-primary shadow-primary btn-square px-5"><i class="icon-lock"></i> Modifier</button>
					</div>
				 </div>
			   </div>
				
						</div>
                      </div>
                      <div class="modal-footer">
                        <button type="button" class="btn btn-light" data-dismiss="modal"><i class="fa fa-times"></i> Close</button>
                       
                      </div>
                    </div>
                  </div>
                </div><!--End Modal -->						

				
<!-- Fin des Modals -->




<script>

 // création et vérification token/cookies
    var token = Cookies.get('token');
    if (token !== undefined && token !== null) {
      var utilisateur = jwt_decode(token);
      var currentTime = new Date().getTime() / 1000;
      if (currentTime > utilisateur.exp) {
        Cookies.remove('token');
        document.location.href = "authentication.html";
      }
    }
    else {
      document.location.href = "authentication.html";
    }

    // authentification
    $('#deconnexion').on('click', function (e) {
	//alert(1);
      e.preventDefault();
      Cookies.remove('token');
      document.location.href = "authentication.html";
    });

	var decoded = jwt_decode(token);
    var id_user=decoded.data.id;
	var prenom_user=decoded.data.prenom;
	var statut_user=decoded.data.statut;
	
	$(".name_of_user").html(prenom_user);
	$(".statut_of_user").html(prenom_user);
	
var urlServeur;

function return_couleur(valeur)
{
if(valeur<=10)
return "progress-bar bg-danger";
else if(valeur>10 && valeur<=30)
return "progress-bar bg-warning";
else if(valeur>30 && valeur<=50)
return "progress-bar bg-purple";
else if(valeur>50 && valeur<=80)
return "progress-bar bg-dark";
else
return "progress-bar bg-success";
}
//var variante_couleur=["progress-bar bg-dark","progress-bar bg-danger","progress-bar bg-success","progress-bar bg-warning","progress-bar bg-purple"];

(function ($) {
	$.fn.serializeFormJSON = function () {

			var o = {};
			var a = this.serializeArray();
			$.each(a, function () {
					if (o[this.name]) {
							if (!o[this.name].push) {
									o[this.name] = [o[this.name]];
							}
							o[this.name].push(this.value || '');
					} else {
							o[this.name] = this.value || '';
					}
			});
			return o;
	};
})(jQuery);	


function notification(msg_type, msg, icon) {
      Lobibox.notify(msg_type, {
        pauseDelayOnHover: true,
        continueDelayOnInactiveTab: false,
        position: 'top right',
        icon: icon,
        msg: msg
      });
    }

$('.add_activity').on('click', function (e) {
		e.preventDefault();
	//	var s = $('#indicator_infos_form').serialize();

var s_json=$('#form_activity').serializeFormJSON();

		var s = $('#form_activity').serializeFormJSON();
		s.table='activites';
		s.agent=id_user;
		console.log(s);
		
		
		$.ajax({
				url:'traitement/ajouter.php',
				type: 'POST',
				"content-type": "application/json",
				"cache-control": "no-cache",
				data: s,
				success: function (result) {
						
						
						notification('success',result.message, 'fa fa-check-circle');
						
						
			/*			
			  table.clear().draw();
	          table.rows.add(get_data()); // Add new data
	          table.columns.adjust().draw(); // Redraw the DataTable
				//	table.reload();

				table_infos.clear().draw();
				table_infos.rows.add(get_data()); // Add new data
				table_infos.columns.adjust().draw(); // Redraw the DataTable

				
						
			*/
						
						$("#form_activity")[0].reset();
						$('#modal-activitry').modal('hide');
						table.ajax.reload();
						recentes_activity();

				},
				error: function (result) {
				console.log(result);
						notification('error', result.responseJSON.message, 'fa fa-times-circle');
						$("#loader_").html("");
				}
		});

			   });
			   
			   
			   
			   $('.add_projet').on('click', function (e) {
		e.preventDefault();
	//	var s = $('#indicator_infos_form').serialize();

var s_json=$('#form_projet').serializeFormJSON();

		var s = $('#form_projet').serializeFormJSON();
		s.table='projet';
		console.log(s);
		
		
		$.ajax({
				url:'traitement/ajouter.php',
				type: 'POST',
				"content-type": "application/json",
				"cache-control": "no-cache",
				data: s,
				success: function (result) {
						
						
				 notification('success',result.message, 'fa fa-check-circle');
				 $("#form_projet")[0].reset();
				 $('#modal-projet').modal('hide');
				 table_projet.ajax.reload();
				 liste_des_projest();

				},
				error: function (result) {
				
						notification('error', result.responseJSON.message, 'fa fa-times-circle');
						$("#loader_").html("");
				}
		});

			   });
			   
			   
			   


       var table = $('#table_activites').DataTable( {
        lengthChange: false,
		 responsive: true,
		 language: {
					"url": "assets/i18n/datatable.json"
			},
	dom: 'Bfrtip',
      //  buttons: [ 'copy', 'excel', 'pdf', 'print', 'colvis' ]
	   
	   ajax: {
            "url": 'traitement/get_activites.php'
        },
		buttons: [ 'excel', 'pdf', 'colvis' ],
        columns: [
            {"data": "intitule"},
            {"data": "projet"},
			{"data": "date_modification"}

        ],
		
      } );
 
     table.buttons().container()
.appendTo( '#example_wrapper .col-md-6:eq(0)' );




       var table_projet = $('#table_projets').DataTable( {
        lengthChange: false,
		 responsive: true,
		 language: {
					"url": "assets/i18n/datatable.json"
			},
	dom: 'Bfrtip',
      //  buttons: [ 'copy', 'excel', 'pdf', 'print', 'colvis' ]
	   
	   ajax: {
            "url": 'traitement/get_projets.php'
        },
		buttons: [ 'excel', 'pdf', 'colvis' ],
        columns: [
            {"data": "intitule"},
            {"data": "coordonnateur"},
			{"data": "date_modification"}

        ],
		
      } );



function recentes_activity()
{

 $('#recente_activity').html('');
$.ajax({
			url: 'traitement/get_users_.php?id_user='+id_user,
			type: 'GET',
			success: function (result) {
			console.log(result);
				var toAppend = '';
	           $.each(result,function(i,o){
			   var nom_activite=o.prenom;
			   if(o.pourcentage===null) var pourcentage=0; else var pourcentage=o.pourcentage;
			   var couleur_class=return_couleur(o.pourcentage);
	           toAppend += '<div class="button_presentation"><a  href="javascript:void();" onclick="mod_add_timme('+o.id+',\''+o.prenom+'\',\'utilisateur\')" class="bg-purple shadow-purple" title="'+o.nom_activite+'" class="list-group-item"> <p href="#" class="mt-3"><i class="icon-check last"></i> '+nom_activite.substr(0, 15)+'</p>'+
                     '<div class="progress" style="height: 20px;color:red;font-weight:bold">'+
                         ' '+o.unite+' <div class="'+couleur_class+'" role="progressbar" style="width:"></div>'+
                     ' </div></a></div>';
	          });

	         $('#recente_activity').append(toAppend);
			

			},
			error: function (data) {
			//alert(3);
			}
	});

} recentes_activity();

var get_data = function (id,methode) {
	var resultat;
		$.ajax({
		 "url": 'traitement/get_time_line_activite_methode.php?id='+id+'&methode='+methode,
			type: 'GET',
			'async': false,
			'global': false,
			contentType : 'application/json; charset=UTF-8',
			'success': function (result) {
resultat=result;
				}
		});

		return resultat;
}


var get_data_activity = function (id) {
	var resultat;
		$.ajax({
		  "url": 'traitement/get_data_activity.php?activite='+id,
			type: 'GET',
			'async': false,
			'global': false,
			contentType : 'application/json; charset=UTF-8',
			'success': function (result) {
resultat=result;
				}
		});

		return resultat;
}

var get_stats = function (id) {
	var resultat;
		$.ajax({
		  "url": 'traitement/stats.php?activite=',
			type: 'GET',
			'async': false,
			'global': false,
			contentType : 'application/json; charset=UTF-8',
			'success': function (result) {
resultat=result;
				}
		});

		return resultat;
}



var get_liste_projet = function () {
var liste_projets="<option> Projet concerné </option>";

		$.ajax({
		 "url":'traitement/get_liste_projet.php',
			type: 'POST',
			'async': false,
			'global': false,
			contentType : 'application/json; charset=UTF-8',
			//data: obj,
			'success': function (result) {
console.log(result);
		for(var k=0;k<result.length;k++)
		{
			
		liste_projets +="<option  value='"+result[k].id+"'>"+result[k].intitule+"</option>";
		}

				}
		});

		return liste_projets;
}

var get_liste_user = function () {
var liste_users="<option> Coordonnateur du projet </option>";

		$.ajax({
		 "url":'traitement/get_liste_user.php',
			type: 'POST',
			'async': false,
			'global': false,
			contentType : 'application/json; charset=UTF-8',
			//data: obj,
			'success': function (result) {
console.log(result);
		for(var k=0;k<result.length;k++)
		{
			
		liste_users +="<option  value='"+result[k].id+"'>"+result[k].prenom+"</option>";
		}

				}
		});

		return liste_users;
}

var table_details_activite;

function mod_add_timme(id,nom,methode)
{
$(".title_activity").html("de "+nom);
//$("#add_time").modal('show');
$("#time-line-activity").show();
$("#liste_all_activity").hide();
$("#liste_all_project").hide();


$("#toolbar_activity").html('');
						

$("#menu_supplementaire").hide();
						
var timeline=get_data(id,methode);
console.log(table_details_activite);
if(table_details_activite)
{
//table_details_activite.clear().draw();
//table_details_activite.rows.add(get_data(id)); // Add new data
//table_details_activite.columns.adjust().draw(); // Redraw the DataTable

//table_details_activite.ajax.reload();
table_details_activite.ajax.url('traitement/get_time_line_activite_methode.php?id='+id+'&methode='+methode).load();
}

else
{
table_details_activite = $('#table_details_activite').DataTable( {
		 lengthChange: false,
		 responsive: true,
		 language: {
					"url": "assets/i18n/datatable.json"
			},
			dom: 'Bfrtip',
		buttons: [
            {
                extend: 'excel',
                text: '<i data-toggle="tooltip" data-placement="left" title="exporter au format excel" class="fa fa-file-excel-o"></i>'
            },
            {
                extend: 'print',
                text: '<i data-toggle="tooltip" data-placement="left" title="imprimer" class="fa fa-print"></i>'
            },
            {
                extend: 'colvis',
                text: '<i data-toggle="tooltip" data-placement="left" title="Colonnes visible" class="fa fa-eye"></i>'
            }
        ],

			 ajax: {
             "url": 'traitement/get_time_line_activite_methode.php?id='+id+'&methode='+methode
        },
        columns: [
			{"data": "date"},
			{"data": "pourcentage"},
			{"data": "temps"},
			{"data": "commentaires"},
			{"data": "utilisateur"}
        ]
    });

}	
	

	   



$("#events-content").html('');
var timeline_title='';
var timeline_contents='';

var mois=["","JAN","FEV","MARS","AVRIL","MAI","JUN","JUL","AOUT","SEP","OCT","NOV","DEC"];
 $.each(timeline.data,function(i,o){
  var couleur_class=return_couleur(o.pourcentage);
if(o.commentaires===null)  var commentaire="Aucun commmentaire"; else var commentaire=o.commentaires;
			   timeline_contents += ' <div class="timeline__box">'+
            '<div class="timeline__date">'+
             ' <span class="timeline__day">'+o.day+'</span>'+
              '<span class="timeline__month">'+mois[o.mois]+'</span>'+
            '</div>'+
           ' <div class="timeline__post">'+
             ' <div class="timeline__content">'+
              '  <p>'+commentaire+'</p> <span style="float:right;font-size:11px">Temps passé:'+o.temps+'h</span> '+
			   '<div class="progress" style="height: 20px;">'+
                         ''+o.pourcentage+'%" <div class="'+couleur_class+'" role="progressbar" style="width: '+o.pourcentage+'%"></div>'+
                     ' </div>'+
              '</div>'+
           ' </div><span style="float:right;font-size:11px"><b>'+o.utilisateur+'</b>,date de mise à jour: '+o.time+'</span>'+
          '</div>';
	          });
			  
			
			 $("#events-content").html(timeline_contents); 
			 
			


}


function mod_all_activity(id,nom)
{
$(".title_activity").html(nom);
//$("#add_time").modal('show');
$("#liste_all_activity").show();
$("#time-line-activity").hide();
$("#liste_all_project").hide();
$("#toolbar_activity").html('');

}
function mod_all_projet()
{
//$(".title_activity").html(nom);
//$("#add_time").modal('show');
$("#liste_all_activity").hide();
$("#time-line-activity").hide();
$("#liste_all_project").show();

$("#toolbar_activity").html('');

}


function add_time(id,nom,agent)
{
$('#add_time').data('activite', id);
$('#add_time').data('nom_activite', nom);
$('#add_time').data('agent', agent);
$("#add_time").modal('show');
//$("#id_activite").val(id);
}



$('#submit_form_saisir_temps').on('click', function (e) {
		e.preventDefault();
	//	var s = $('#indicator_infos_form').serialize();

//var s_json=$('#form_saisir_temps').serializeFormJSON();

		var s = $('#form_saisir_temps').serializeFormJSON();
		s.table='temps_passe';
		s.utilisateur=id_user;
		s.activite=$('#add_time').data('activite');
		console.log(s);
		
		
		$.ajax({
				url:'traitement/ajouter.php',
				type: 'POST',
				"content-type": "application/json",
				"cache-control": "no-cache",
				data: s,
				success: function (result) {
						
						
						notification('success',result.message, 'fa fa-check-circle');
						
						
			/*			
			  table.clear().draw();
	          table.rows.add(get_data()); // Add new data
	          table.columns.adjust().draw(); // Redraw the DataTable
				//	table.reload();

				table_infos.clear().draw();
				table_infos.rows.add(get_data()); // Add new data
				table_infos.columns.adjust().draw(); // Redraw the DataTable

				
						
			*/
						
						$("#form_saisir_temps")[0].reset();
						$('#add_time').modal('hide');
						table.ajax.reload();
						var nom_activite=$('#add_time').data('nom_activite');
						var agent=$('#add_time').data('agent');
						var activite=$('#add_time').data('activite');
						mod_add_timme(activite,nom_activite,agent);
						

				},
				error: function (result) {
				console.log(result);
						notification('error', result.responseJSON.message, 'fa fa-times-circle');
						$("#loader_").html("");
				}
		});

			   });
			   
			   
		
	
			   
			   
			   
			   // Lorsque l'utilisateur clique sur une ligne de datatable liste des activités
    $('#table_activites tbody').on('click',  'tr', function (e) {
     e.preventDefault();	
	 var data = table.row( $(this)).data();
	 console.log(data);
	  mod_add_timme(data.id,data.intitule,data.agent)
      
    });
	
	
			   // Lorsque l'utilisateur clique sur une ligne de datatable liste des activités
    $('#table_projets tbody').on('click',  'tr', function (e) {
     e.preventDefault();	
	 var data = table_projet.row( $(this)).data();
	
	  mod_add_timme(data.id,data.intitule,"projet")
      
    });
	

	
	function liste_des_projest()
	{
	var liste=get_liste_projet();
	
	$('#projet').empty();
	$('#projet').append(liste);
	}liste_des_projest();
	
	function liste_des_users()
	{
	var liste=get_liste_user();
	
	$('#coordonnateur').empty();
	$('#coordonnateur').append(liste);
	}liste_des_users();
	
	
	
	function update_project(id,nom)
	{
	$('#update_project_modal').modal('show');
	$('.title_projet').html(nom);
	}
 
function mod_activite(id,nom,agent)
	{
	$('#mod_real_activite').modal('show');
	$('.title_activity').html(nom);
	$('#id_activite_modif').val(id);
	$('#mod_real_activite').data('nom_activite', id);
	$('#mod_real_activite').data('agent', agent);
	var inf_activity=get_data_activity(id);
	var pourcentage=inf_activity.data[0].pourcentage_realisation;
	if(pourcentage===null) pourcentage=0;

	$("#pourcentage_realisation_mod").val(pourcentage);
	if(pourcentage<=10)
	 $("#progress-bar-val").html('<div class="progress-bar bg-danger" style="width:'+pourcentage+'%">'+pourcentage+'%</div>');
	else if(pourcentage>10 && pourcentage<=30)
	$("#progress-bar-val").html('<div class="progress-bar bg-warning" style="width:'+pourcentage+'%">'+pourcentage+'%</div>');
	else if(pourcentage>30 && pourcentage<=50)
	$("#progress-bar-val").html('<div class="progress-bar bg-info" style="width:'+pourcentage+'%">'+pourcentage+'%</div>');
	else if(pourcentage>50 && pourcentage<=80)
	$("#progress-bar-val").html('<div class="progress-bar bg-success" style="width:'+pourcentage+'%">'+pourcentage+'%</div>');
	else 
	$("#progress-bar-val").html('<div class="progress-bar" style="width:'+pourcentage+'%">'+pourcentage+'%</div>');
	
	}
	
	
	
	$('#submit_form_mod_real_act').on('click', function (e) {
		e.preventDefault();
	//	var s = $('#indicator_infos_form').serialize();

//var s_json=$('#form_saisir_temps').serializeFormJSON();

		var s = $('#form_mod_real_act').serializeFormJSON();
		s.table='activites';
		s.utilisateur=id_user;
		s.activite=$('#add_time').data('activite');
		console.log(s);
		var nom_activite=$('#mod_real_activite').data('nom_activite');
		var agent=$('#mod_real_activite').data('agent');
		
		$.ajax({
				url:'traitement/modifier.php',
				type: 'POST',
				"content-type": "application/json",
				"cache-control": "no-cache",
				data: s,
				success: function (result) {
						
						
						notification('success',result.message, 'fa fa-check-circle');	
						
						$('#mod_real_activite').modal('hide');
						
						mod_add_timme(s.id,nom_activite,agent);
						recentes_activity();

				},
				error: function (result) {
				console.log(result);
						notification('error', result.responseJSON.message, 'fa fa-times-circle');
						$("#loader_").html("");
				}
		});

			   });
			   
			   
	var statistiques=get_stats(1);
	var labels_=[];
	var datasets_=[];
	$.each(statistiques.data,function(i,o){
 labels.push(o.mois);
 var elements={
						label: o.mois,
						data: [13, 20, 4, 18, 7, 4, 8],
						backgroundColor: "rgba(0, 140, 255, 0.5)",
						borderColor: "rgba(0, 140, 255)",
						borderWidth: 1
					};
 datasets_.push();
	          });
	
			   
			   if ($('#lineChart').length) {
			var ctx = document.getElementById('lineChart').getContext('2d');
			var myChart = new Chart(ctx, {
				type: 'line',
				data: {
					labels: ['Mo', 'Tu', 'We', 'Th', 'Fr', 'Sa', 'Su'],
					datasets: [{
						label: 'Google',
						data: [13, 20, 4, 18, 7, 4, 8],
						backgroundColor: "rgba(0, 140, 255, 0.5)",
						borderColor: "rgba(0, 140, 255)",
						borderWidth: 1
					}, {
						label: 'Facebook',
						data: [3, 30, 6, 6, 3, 4, 11],
						backgroundColor: "rgba(21, 202, 32, 0.5)",
						borderColor: "rgba(21, 202, 32)",
						borderWidth: 1
					}]
				}
			});
		}


		if ($('#barChart').length) {
			var ctx = document.getElementById("barChart").getContext('2d');
			var myChart = new Chart(ctx, {
				type: 'bar',
				data: {
					labels: ['Mo', 'Tu', 'We', 'Th', 'Fr', 'Sa', 'Su'],
					datasets: [{
						label: 'Google',
						data: [13, 20, 4, 18, 29, 25, 8],
						backgroundColor: "#fd3550"
					}, {
						label: 'Facebook',
						data: [31, 30, 6, 6, 21, 4, 11],
						backgroundColor: "#0dceec"
					}]
				}
			});
		}
 
</script>			